<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Create phone</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<form action="#" th:action="@{/phone-create}" th:object="${user}" method="post">
    <div id="phoneInputs">
        <label for="phoneNumber">Phone number:</label>
        <input type="number" th:field="*{phoneEntries[0].phoneNumber}" id="phoneNumber" placeholder="Phone:">
        </br>
        <label for="phoneComment">Phone Comment:</label>
        <input type="text" th:field="*{phoneEntries[0].phoneComment}" id="phoneComment" placeholder="Last Name">
        </br>
    </div>
    <input type="submit" value="Create Phone">
    <button type="button" id="add-additional-number" onclick="addAdditionalNumber()">Add additional number</button>
</form>
<script>
    let phoneCount = 1;

    function addAdditionalNumber() {
        let html = '';
        html += '<label for="phoneNumber'+phoneCount+'">Phone number '+phoneCount+':</label>';
        html += '<input type="number" id="phoneNumber'+phoneCount+'" name="phoneEntries['+phoneCount+'].phoneNumber" placeholder="Phone:">';
        html += '<br>';
        html += '<label for="phoneComment'+phoneCount+'">Phone comment '+phoneCount+':</label>';
        html += '<input type="text" id="phoneComment'+phoneCount+'" name="phoneEntries['+phoneCount+'].phoneComment" placeholder="Comment:">';
        html += '<br>';
        $("#phoneInputs").append(html);
        phoneCount++;
    }
</script>
</body>
</html>
